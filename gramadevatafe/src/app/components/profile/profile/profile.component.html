<div class="container" style="margin-top: 120px; ">
  <div class="row">
    <div class="col-md-4 col-sm-12 text-center">
      <!-- <img src="../../../../assets/profile1.webp" class="rounded-circle" alt="Profile Picture" style="width: 50px; height: 50px;"> -->
      <img [src]="useraddedtemples?.profile_pic || '../../../../assets/profile1.webp'"
      class="rounded-circle"
      [ngStyle]="{ 'height': '75px', 'width': '75px', 'border-radius': '20px' }"
      alt="profile image"
      (error)="handleProfileImageError($event)">
 

      
      <div >
        <h3 class="mt-2">{{useraddedtemples?.full_name}}</h3>
         <p class="text-start">Father Name  :{{useraddedtemples?.father_name}}</p>
        <!-- <p class="text-start">Date Of Birth  :{{useraddedtemples?.dob}}</p> -->
        <p class="text-start">Contact Number  :{{useraddedtemples?.contact_number}}</p>
        <p class="text-start">Gender  :{{useraddedtemples?.gender}}</p>
        <p class="text-start">Email  :{{useraddedtemples?.email}}</p>
      </div>
      <!-- <p class="text-muted">username</p> -->
    </div>
    <div class="col-md-8">
      <div class="row">
        <div class="col text-center">
          <h4>Connected Villages</h4>
          <p>{{connectdvillgescount}}</p>
        </div>
        <div class="col text-center">
          <h4>Connected Temples</h4>
          <p>{{connectedTemplescount}}</p>
        </div>
        <div class="col text-center">
          <h4>Added Temples</h4>
          <p>{{useraddedtemples.temples_count}}</p>
        </div>
       
      </div>
      <div class="mt-3" *ngIf="Isuser">
        <button (click)="openmemberDialog()" class="btn btn-primary btn-sm" style="background-color: orange; border-color: orange;">Edit Profile</button>
      </div>
      <!-- <div class="mt-3">
        <p>Bio: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce at nisi eget dolor rhoncus facilisis.</p>
      </div> -->
    </div>
  </div>
  <hr>
  

  <div class="row mt-4">
    <div class="text-center col-12 mb-5">
      <h4  style="color: orange;">Your Roots </h4>
    </div>


    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <h5>Father's Side</h5>
          <p class="text-start">Father Name: {{useraddedtemples?.father_name}}</p>
          <p class="text-start">Paternal Grandfather Name: {{useraddedtemples?.paternal_grandfather_name}}</p>
          <p class="text-start">Paternal Grandmother Name: {{useraddedtemples?.paternal_grandmother_name}}</p>
          <h5> Great Grandparents (Father's Father's Side)</h5>
          <p class="text-start">Paternal Great Grandfather Name: {{useraddedtemples?.paternal_great_grandfather_name}}</p>
          <p class="text-start">Paternal Great Grandmother Name: {{useraddedtemples?.paternal_great_grandmother_name}}</p>
          <h5>  Great Grandparents (Father's Mother's Side):</h5>
          <p class="text-start">Paternal Grandmother's Father Name: {{useraddedtemples?.paternal_grandmother_father_name}}</p>
          <p class="text-start">Paternal Grandmother's Mother Name: {{useraddedtemples?.paternal_grandmother_mother_name}}</p>
        </div>
        <div class="col-md-6">
          <h5>Mother's Side</h5>
          <p class="text-start">Mother Name: {{useraddedtemples?.mother_name}}</p>
          <p class="text-start">Maternal Grandfather Name: {{useraddedtemples?.maternal_grandfather_name}}</p>
          <p class="text-start">Maternal Grandmother Name: {{useraddedtemples?.maternal_grandmother_name}}</p>
          <h5>Great Grandparents (Mother's Father's Side)</h5>
          <p class="text-start">Maternal Great Grandfather Name: {{useraddedtemples?.maternal_great_grandfather_name}}</p>
          <p class="text-start">Maternal Great Grandmother Name: {{useraddedtemples?.maternal_great_grandmother_name}}</p>
          <h5> Great Grandparents (Mother's Mother's Side)</h5>
          <p class="text-start">Maternal Grandmother's Father Name: {{useraddedtemples?.maternal_grandmother_father_name}}</p>
          <p class="text-start">Maternal Grandmother's Mother Name: {{useraddedtemples?.maternal_grandmother_mother_name}}</p>
        </div>
      </div>
    </div>
    <div class="text-center mb-3 mt-3" *ngIf="Isuser">
      <button
        
        class="p-2"
        style="border-width: 0px; background-color: rgb(241, 124, 15); border-radius: 20px; color: white; margin-right: 10px;" (click)="updateroots()"
      >
        Update Your Root's
      </button>
    </div>
    

  <hr>
    

  <div class="row mt-4">
    <div>
      <h4>Family Images</h4>
    </div>
  
    
    <div class="row">
      <div class="col-1 position-relative" *ngFor="let image of familyimages; let i = index">
        <img
          [src]="image ? image : 'assets/ohm.jpg'"
          style="height: 10vh; width: 10vh; border-radius: 20px;"
          class="img-fluid rounded"
          alt="Image"
        />
        <div class="overlay-icons">
          <i nz-icon nzType="eye" class="icon-view-delete text-white me-2" (click)="onViewImage(i)"></i>
          <i nz-icon nzType="delete" class="icon-view-delete text-white" (click)="onDeleteImage(i)"></i>
        </div>
      </div>
    </div>


    
    
    
    
  
    <!-- Show the upload section only if there are fewer than 10 images -->
    <div *ngIf="familyimages.length < 10">
      <div class="row mt-2" *ngIf="Isuser">
        <div>
          <nz-upload
            nzListType="picture-card"
            [(nzFileList)]="bannerFileList"
            [nzMultiple]="true"
            [nzShowButton]="bannerFileList.length < 10"
            (nzChange)="handleBannerFileChange($event)"
            [nzAccept]="'image/*'"
            (nzRemove)="handleBannerFileRemove($event)"
          >
            <div >
              <i nz-icon nzType="plus"></i>
              Add Family Images
            </div>
          </nz-upload>
  
          <div class="text-center" *ngIf="Isuser">
            <button
              (click)="onsubmit()"
              class="p-2"
              style="border-width: 0px; background-color: rgb(241, 124, 15); border-radius: 20px; color: white; margin-right: 10px;"
            >
              Upload
            </button>
          </div>
        </div>
      </div>
  
      <!-- Display the error message if fewer than 10 images -->
      <div *ngIf="bannerFileList.length < 10 && Isuser" class="text-danger mt-2" >
        You can upload at least 10 images.
      </div>
    </div>
  </div>
  
  
     
  <hr>
 

  <div class="row mt-4">
    <div class="col-12">
      <h4>Your Connected Villages</h4>
    </div>
    <div class="col-4 col-md-2 col-lg-1 mb-3" *ngFor="let villageconnection of villageconnections; let i = index">
      <div class="text-center">
        <a (click)="navigateToVillageDetail(villageconnection.village._id)">
          <img [src]="imagePaths[i % imagePaths.length]" style="height: 10vh; width: 10vh; border-radius:20px;" class="img-fluid rounded" [alt]="'Village ' + (i + 1) + ' Image'">
        </a>
        
        <p class="temple-name" style="margin-top: 5px; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;">
          {{ villageconnection.village.name }}
      </p>
      </div> 
    </div>
    
  </div>
  
  

  
  <hr>
  <div class="row mt-4">
    <div class="col-12">
      <h4>Your Connected Temples</h4>
    </div>
    
    <div style="overflow-x: auto; white-space: nowrap;">
      <div>
          <div *ngFor="let templeConnection of templeconnections" style="display: inline-block; margin-right: 15px;">
              <div class="image-container" style="width: 10vh; text-align: center;">
                  <a (click)="navigateTempleDetail(templeConnection.temple._id)">
                      <img [src]="templeConnection.temple?.image_location ? templeConnection.temple.image_location : 'assets/ohm.jpg'" 
                           class="img-fluid rounded" 
                           style="height: 10vh; width: 10vh; border-radius: 20px;" 
                           alt="image"
                           (error)="handleImageError($event)">
                  </a>
                  <p class="temple-name" style="margin-top: 5px; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;">
                    {{ templeConnection?.temple?.name }}
                </p>
                
                
              </div>
          </div>
      </div>
  </div> 
  </div>
  
  

  


  <hr>
  <div class="row mt-4">
    <div class="col-12">
      <h4>Your Added Temples</h4>
    </div>
    <!-- <div class="col-4 col-md-1 mb-3" style=" display: inline-block;"  *ngFor="let addedtemples of addedtemples;">
      <div class="text-center">
        <a  (click)="navigateTempleDetail(addedtemples._id)">
          <img [src]="addedtemples.image_location ? addedtemples.image_location : 'assets/ohm.jpg'" style="height: 10vh; width: 10vh; border-radius:20px;" class="img-fluid rounded" alt="image" (error)="handleImageError($event)">
      </a>
        <p class="text-center">{{addedtemples.name}}</p>
      </div>
    </div> -->
    <div style="overflow-x: auto; white-space: nowrap;">
      <div>
          <div *ngFor="let addedtemples of addedtemples" style="display: inline-block; margin-right: 15px;">
              <div class="image-container" style="width: 10vh; text-align: center;">
                  <a (click)="navigateTempleDetail(addedtemples._id)">
                      <img [src]="addedtemples.image_location ? addedtemples.image_location : 'assets/ohm.jpg'" 
                           class="img-fluid rounded" 
                           style="height: 10vh; width: 10vh; border-radius: 20px;" 
                           alt="image"
                           (error)="handleImageError($event)">
                  </a>
                  <p class="temple-name" style="margin-top: 5px; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;">
                    {{ addedtemples.name }}
                </p>
                
                
              </div>
          </div>
      </div>
  </div>
    
  </div>
  <hr>
  <div class="row mt-4">
    <div>
      <h4>Your Added Goshalas</h4>
    </div>
    <!-- <div class="col-4 col-md-1 mb-3" *ngFor="let goshaladata of goshaladata;">
      <div class="text-center">
        <a (click)="navigateTogoshaladetail(goshaladata._id)" >
          <img [src]="goshaladata.image_location ? goshaladata.image_location : 'assets/ohm.jpg'" style="height: 10vh; width: 10vh; border-radius:20px;" class="img-fluid rounded" alt="image" (error)="handleImageError($event)">
      </a>
        <p class="text-center">{{goshaladata.name}}</p>
      </div>
    </div> -->
    <div style="overflow-x: auto; white-space: nowrap;">
      <div>
          <div *ngFor="let goshaladata of goshaladata" style="display: inline-block; margin-right: 15px;">
              <div class="image-container" style="width: 10vh; text-align: center;">
                  <a (click)="navigateTogoshaladetail(goshaladata._id)">
                      <img [src]="goshaladata.image_location ? goshaladata.image_location : 'assets/ohm.jpg'" 
                           class="img-fluid rounded" 
                           style="height: 10vh; width: 10vh; border-radius: 20px;" 
                           alt="image"
                           (error)="handleImageError($event)">
                  </a>
                  <p class="temple-name" style="margin-top: 5px; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;">
                    {{ goshaladata.name }}
                </p>
                
                
              </div>
          </div>
      </div>
  </div>
  </div>
  <hr>
  <div class="row mt-4">
    <div>
      <h4>Your Added Events</h4>
    </div>
    
    <div style="overflow-x: auto; white-space: nowrap;">
      <div>
          <div *ngFor="let eventdata of eventdata" style="display: inline-block; margin-right: 15px;">
              <div class="image-container" style="width: 10vh; text-align: center;">
                  <a (click)="navigateEventdata(eventdata._id)">
                      <img [src]="eventdata.image_location ? eventdata.image_location : 'assets/ohm.jpg'" 
                           class="img-fluid rounded" 
                           style="height: 10vh; width: 10vh; border-radius: 20px;" 
                           alt="image"
                           (error)="handleImageError($event)">
                  </a>
                  <p class="temple-name" style="margin-top: 5px; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;">
                    {{ eventdata?.name }}
                </p>
                
                
              </div>
          </div>
      </div>
  </div>
  </div>
  <hr>
</div>

